/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our Samples at https://docs.gradle.org/8.14.2/samples
 */

plugins {
    id 'java'
    id 'war'
    id 'jacoco' // Opcional, para cobertura de tests
}

group = 'dev.ricardopineda'
version = '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

dependencies {
    // 🔧 Log para consola o archivos
    implementation 'org.apache.logging.log4j:log4j-core:2.20.0'
    implementation 'org.apache.logging.log4j:log4j-api:2.20.0'

    // ⚙️ Hibernate (JPA)
    implementation 'org.hibernate.orm:hibernate-core:7.0.2.Final'
    implementation 'jakarta.persistence:jakarta.persistence-api:3.1.0' // explícita para evitar errores runtime

    // 💾 PostgreSQL driver
    runtimeOnly 'org.postgresql:postgresql:42.7.6'

    // 🧠 Lombok para evitar boilerplate
    implementation 'org.projectlombok:lombok:1.18.38'
    annotationProcessor 'org.projectlombok:lombok:1.18.38'

    // 📦 Jakarta EE (solo en compilación, no se empaca en WAR)
    providedCompile 'jakarta.platform:jakarta.jakartaee-web-api:10.0.0'

    // 🧪 Testing
    testImplementation 'junit:junit:4.13.2'

    // 📄 Reportes PDF y Excel con JasperReports
    implementation 'net.sf.jasperreports:jasperreports:7.0.3'
    implementation 'org.apache.poi:poi:5.4.1'            // Excel (.xls)
    implementation 'org.apache.poi:poi-ooxml:5.4.1'      // Excel (.xlsx)

    // 📧 Envío de correos
    implementation 'com.sun.mail:jakarta.mail:2.0.1'
}

java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(17)
    }
}

war {
    archiveFileName = 'api-alertascxc.war'
}


